<!doctype html>
<html>
<head>
<script src="../../build/out.js"></script>
<script>
var stm, ws = new WebSocket('ws://localhost:9999');
ws.addEventListener('open', function() {
  stm = new checkerboard.STM(ws);
   
  stm.action('create-array')
    .onReceive(function() {
      if (typeof this.test === 'undefined')
        this.test = [];
    });
    
  stm.action('push-to-array')
    .onReceive(function(num) {
      this.push(num);
    });
      
  stm.store.sendAction('create-array');
//  stm.store.addObserver(function(){});
  stm.store.test.sendAction('push-to-array', 5);

});


</script>